{% extends "base.html" %}

{% block title %}Административен Панел{% endblock %}

{% block extra_styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid px-4 py-4 fade-in" style="max-width: 1600px; margin: 0 auto;">

    <!-- 1. DASHBOARD HERO (Без промяна - перфектен е) -->
    <div class="dashboard-hero">
        <div class="hero-text-content">
            <div class="d-inline-flex align-items-center gap-2 px-3 py-1 rounded-pill border border-light border-opacity-25 bg-white bg-opacity-10 text-white mb-3" style="font-size: 0.75rem; font-weight: 700;">
                <i class="bi bi-shield-lock-fill text-success"></i> SECURITY CENTER V2.0
            </div>
            <h1 class="hero-welcome">Здравейте, Администратор</h1>
            <p class="hero-desc">
                Пълен контрол над екосистемата на GStroy. Следете метриките в реално време.
            </p>
            
            <div class="d-flex gap-3 flex-wrap">
                <a href="{{ url_for('admin.users_panel') }}" class="btn-glass-hero primary">
                    <i class="bi bi-person-plus-fill"></i> Нов потребител
                </a>
                <a href="{{ url_for('admin.academy_content') }}" class="btn-glass-hero">
                    <i class="bi bi-pencil-square"></i> Публикувай в Academy
                </a>
            </div>
        </div>

        <div class="hero-stats-wrapper">
            <div class="stat-glass">
                <span class="stat-glass-label">ERP Връзка</span>
                <span class="stat-glass-val">
                    <i class="bi bi-circle-fill text-success" style="font-size: 10px; animation: pulse 2s infinite;"></i> Online
                </span>
            </div>
            <div class="stat-glass">
                <span class="stat-glass-label">Потребители</span>
                <span class="stat-glass-val">{{ stats.users_count|default('0') }}</span>
            </div>
            <div class="stat-glass">
                <span class="stat-glass-label">Статии</span>
                <span class="stat-glass-val">{{ stats.academy_count|default('0') }}</span>
            </div>
        </div>
    </div>

    <!-- 2. КАТАЛОГ И ДАННИ (Зелени карти) -->
    <div class="section-divider">
        <i class="bi bi-database-fill text-success"></i> Каталог и Продукти
    </div>
    
    <div class="dash-grid">
        <a href="{{ url_for('admin.products') }}" class="nav-card green">
            <div class="nav-icon icon-green">
                <i class="bi bi-box-seam"></i>
            </div>
            <div class="nav-content">
                <h3>Продуктов Каталог</h3>
                <p>Артикули, цени, наличности и снимки.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.categories_panel') }}" class="nav-card green">
            <div class="nav-icon icon-green">
                <i class="bi bi-tags"></i>
            </div>
            <div class="nav-content">
                <h3>Категории</h3>
                <p>Структура на дървото с категории.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.brands_panel') }}" class="nav-card green">
            <div class="nav-icon icon-green">
                <i class="bi bi-award"></i>
            </div>
            <div class="nav-content">
                <h3>Брандове</h3>
                <p>Производители и доставчици.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

    <!-- 3. ЕКИП И ДОСТЪП (Сини карти) -->
    <div class="section-divider">
        <i class="bi bi-people-fill text-primary"></i> Екип и Сигурност
    </div>

    <div class="dash-grid">
        <a href="{{ url_for('admin.users_panel') }}" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-people"></i>
            </div>
            <div class="nav-content">
                <h3>Потребители</h3>
                <p>Служители, пароли и профили.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.roles_panel') }}" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-shield-check"></i>
            </div>
            <div class="nav-content">
                <h3>Роли и Права</h3>
                <p>Конфигурация на достъпа до модули.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="#" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-activity"></i>
            </div>
            <div class="nav-content">
                <h3>Активност (Log)</h3>
                <p>История на влизанията и действията.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

    <!-- 4. ОПЕРАЦИИ И СИСТЕМИ (Оранжеви карти) -->
    <div class="section-divider">
        <i class="bi bi-hdd-rack-fill text-warning"></i> Операции и Инфраструктура
    </div>

    <div class="dash-grid">
        <a href="{{ url_for('admin.erp_panel') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-arrow-left-right"></i>
            </div>
            <div class="nav-content">
                <h3>ERP Интеграция</h3>
                <p>Статус на синхронизацията и Webhooks.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.sync_center') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-arrow-repeat"></i>
            </div>
            <div class="nav-content">
                <h3>Sync Center</h3>
                <p>Product sync dashboard and history.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.warehouses_panel') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-boxes"></i>
            </div>
            <div class="nav-content">
                <h3>Складове</h3>
                <p>Локации, зони и логистика.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.printers_panel') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-printer"></i>
            </div>
            <div class="nav-content">
                <h3>Принтери</h3>
                <p>Етикетни принтери и мрежови настройки.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

    <!-- 5. GSTROY ACADEMY (Лилави карти - НОВА СЕКЦИЯ) -->
    <div class="section-divider">
        <i class="bi bi-mortarboard-fill" style="color: #9333ea;"></i> GStroy Academy
    </div>

    <div class="dash-grid">
        <a href="{{ url_for('admin.academy_content') }}" class="nav-card purple">
            <div class="nav-icon icon-purple">
                <i class="bi bi-collection-play"></i>
            </div>
            <div class="nav-content">
                <h3>Съдържание</h3>
                <p>Управление на Stories, Новини и Обучения.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.academy_categories') }}" class="nav-card purple">
            <div class="nav-icon icon-purple">
                <i class="bi bi-folder2-open"></i>
            </div>
            <div class="nav-content">
                <h3>Категории (Тагове)</h3>
                <p>Организация на темите в академията.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.academy_content_types') }}" class="nav-card purple">
            <div class="nav-icon icon-purple">
                <i class="bi bi-sliders"></i>
            </div>
            <div class="nav-content">
                <h3>Типове Съдържание</h3>
                <p>Настройки на форматите (Видео, Текст).</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

</div>
{% endblock %}
