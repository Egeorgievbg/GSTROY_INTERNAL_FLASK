{% extends "base.html" %}

{% block title %}Административен Панел{% endblock %}

{% block extra_styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid px-4 py-4 fade-in" style="max-width: 1600px; margin: 0 auto;">

    <!-- 1. DASHBOARD HERO -->
    <div class="dashboard-hero">
        <div class="hero-text-content">
            <div class="d-inline-flex align-items-center gap-2 px-3 py-1 rounded-pill border border-light border-opacity-25 bg-white bg-opacity-10 text-white mb-3" style="font-size: 0.75rem; font-weight: 700;">
                <i class="bi bi-shield-lock-fill text-success"></i> SECURITY CENTER V2.0
            </div>
            <h1 class="hero-welcome">Здравейте, Администратор</h1>
            <p class="hero-desc">
                Пълен контрол над екосистемата на GStroy. Управлявайте потребители, 
                следете ERP синхронизациите и редактирайте продуктовия каталог в реално време.
            </p>
            
            <div class="d-flex gap-3 flex-wrap">
                <a href="{{ url_for('admin.users_panel') }}" class="btn-glass-hero primary">
                    <i class="bi bi-person-plus-fill"></i> Нов потребител
                </a>
                <a href="{{ url_for('admin.erp_panel') }}" class="btn-glass-hero">
                    <i class="bi bi-arrow-repeat"></i> ERP Sync
                </a>
            </div>
        </div>

        <div class="hero-stats-wrapper">
            <div class="stat-glass">
                <span class="stat-glass-label">ERP Връзка</span>
                <span class="stat-glass-val">
                    <i class="bi bi-circle-fill text-success" style="font-size: 10px; animation: pulse 2s infinite;"></i> Online
                </span>
            </div>
            <div class="stat-glass">
                <span class="stat-glass-label">Потребители</span>
                <span class="stat-glass-val">{{ stats.users_count|default('0') }}</span>
            </div>
            <div class="stat-glass">
                <span class="stat-glass-label">Продукти</span>
                <span class="stat-glass-val">{{ stats.products_count|default('0') }}</span>
            </div>
        </div>
    </div>

    <!-- 2. SECTION: DATA & CATALOG -->
    <div class="section-divider">
        <i class="bi bi-database-fill text-success"></i> Каталог и Данни
    </div>
    
    <div class="dash-grid">
        <a href="{{ url_for('admin.products') }}" class="nav-card green">
            <div class="nav-icon icon-green">
                <i class="bi bi-box-seam"></i>
            </div>
            <div class="nav-content">
                <h3>Продуктов Каталог</h3>
                <p>Управление на артикули, цени, наличности, описания и снимки.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.categories_panel') }}" class="nav-card green">
            <div class="nav-icon icon-green">
                <i class="bi bi-tags"></i>
            </div>
            <div class="nav-content">
                <h3>Категории</h3>
                <p>Структуриране на дървото с категории и подкатегории.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.brands_panel') }}" class="nav-card green">
            <div class="nav-icon icon-green">
                <i class="bi bi-award"></i>
            </div>
            <div class="nav-content">
                <h3>Брандове</h3>
                <p>Управление на производители и свързване с продукти.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

    <!-- 3. SECTION: USERS & ACCESS -->
    <div class="section-divider">
        <i class="bi bi-people-fill text-primary"></i> Екип и Достъп
    </div>

    <div class="dash-grid">
        <a href="{{ url_for('admin.users_panel') }}" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-people"></i>
            </div>
            <div class="nav-content">
                <h3>Потребители</h3>
                <p>Списък на служителите, промяна на роли и нулиране на пароли.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.roles_panel') }}" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-card-checklist"></i>
            </div>
            <div class="nav-content">
                <h3>Роли</h3>
                <p>Управлявай списъка с роли, които могат да се присвояват на служителите.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="#" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-shield-check"></i>
            </div>
            <div class="nav-content">
                <h3>Права и Роли</h3>
                <p>Конфигурация на достъпа до модули (Склад, Магазин, Админ).</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="#" class="nav-card blue">
            <div class="nav-icon icon-blue">
                <i class="bi bi-activity"></i>
            </div>
            <div class="nav-content">
                <h3>Активност</h3>
                <p>Лог на действията на потребителите и история на влизанията.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

    <!-- 4. SECTION: SYSTEM -->
    <div class="section-divider">
        <i class="bi bi-hdd-rack-fill text-warning"></i> Системни услуги
    </div>

    <div class="dash-grid">
        <a href="{{ url_for('admin.erp_panel') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-arrow-left-right"></i>
            </div>
            <div class="nav-content">
                <h3>ERP Интеграции</h3>
                <p>Синхронизация, Webhooks и API към външни системи.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.access_windows') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-shield-lock"></i>
            </div>
            <div class="nav-content">
                <h3>????? ? ????</h3>
                <p>?????????? ????, ???????? ? ??????? ???????????.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.warehouses_panel') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-boxes"></i>
            </div>
            <div class="nav-content">
                <h3>Складове и локации</h3>
                <p>Конфигурирайте логистичната инфраструктура и точки за изпълнение.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>

        <a href="{{ url_for('admin.printers_panel') }}" class="nav-card orange">
            <div class="nav-icon icon-orange">
                <i class="bi bi-printer"></i>
            </div>
            <div class="nav-content">
                <h3>Принтери</h3>
                <p>Настройте мрежовите принтери по склад и управлявайте етикетните сървъри.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
        <a href="{{ url_for('admin.academy_content') }}" class="nav-card purple">
            <div class="nav-icon icon-purple">
                <i class="bi bi-mortarboard"></i>
            </div>
            <div class="nav-content">
                <h3>Academy</h3>
                <p>Създавайте съдържание, истории и push кампании.</p>
            </div>
            <i class="bi bi-arrow-right nav-arrow"></i>
        </a>
    </div>

</div>
{% endblock %}
                <h3>Контрол на достъпа</h3>
                <p>Ограничете модулите чрез роли, графици и нива на сигурност.</p>
